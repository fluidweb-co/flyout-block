{"version":3,"file":"../animate-helper.min.js","sources":["animate-helper.js"],"sourcesContent":["/**\n * Animate Helper\n *\n * Provide a functions to handle animations and transitions gracefully.\n *\n * Author: Diego Versiani\n * Contact: https://diegoversiani.me\n */\n( function() {\n\n\t// Initialize public methods object\n\tvar animateHelper = {};\n\twindow.AnimateHelper = animateHelper;\n\n\n\n\t/**\n\t * Provide a crossbrowser way to determine which\n\t * animationend event is supported by the current browser.\n\t * \n\t * Based on the work of:\n\t * Jonathan Suh - https://jonsuh.com/blog/detect-the-end-of-css-animations-and-transitions-with-javascript/\n\t * David Walsh - https://davidwalsh.name/css-animation-callback\n\t *\n\t * @return  {String}  The animationend event name\n\t */\n    var getAnimationEvent = function() {\n        var t,\n        el = document.createElement(\"fakeelement\");\n\t\tvar animations = {\n\t\t\t'animation'      : 'animationend',\n\t\t\t'OAnimation'     : 'oAnimationEnd',\n\t\t\t'MozAnimation'   : 'animationend',\n\t\t\t'WebkitAnimation': 'webkitAnimationEnd'\n\t\t}\n\n\t\tfor (t in animations){\n\t\t\tif (el.style[t] !== undefined){\n\t\t\t\treturn animations[t];\n\t\t\t}\n\t\t}\n\n\t\treturn 'animationend';\n\t};\n\n\n\n\t/**\n\t * Play animation class on the element then call callback function\n\t *\n\t * @param   {Element}  \telement         Element to add animation class to\n\t * @param   {String}  \tanimationClass  Animation class name\n\t * @param   {Function}  callback        Callback function to run after animation\n\t */\n\tanimateHelper.animateThenDo = function( element, animationClass, callback ) {\n        // Set event handler\n        element.addEventListener( getAnimationEvent(), function finish( e ) {\n            // Remove animation class and event listener\n            e.target.classList.remove( animationClass );\n\t\t\te.target.removeEventListener( getAnimationEvent(), finish );\n\t\t\t\n\t\t\t// Do\n            if ( typeof callback === 'function' ) callback( e.target, animationClass );\n        } );\n\n        // Play animation\n        element.classList.add( animationClass );\n    };\n\n\n\n\t/**\n\t * Call callback function then play animation class on the element\n\t *\n\t * @param   {Element}  \telement         Element to add animation class to\n\t * @param   {String}  \tanimationClass  Animation class name\n\t * @param   {Function}  callback        Callback function to run before animation\n\t */\n    animateHelper.doThenAnimate = function( element, animationClass, callback ) {\n\t\t// Do\n\t\tif ( typeof callback === 'function' ) callback( element, animationClass );\n        \n        // Set event handler\n        element.addEventListener( getAnimationEvent(), function finish( e ) {\n            // Remove animation class and event listener\n            e.target.classList.remove( animationClass );\n            e.target.removeEventListener( getAnimationEvent(), finish );\n        } );\n\n        // Play animation\n        element.classList.add( animationClass );\n\t};\n\n})();\n"],"names":["getAnimationEvent","t","el","document","createElement","animations","animation","OAnimation","MozAnimation","WebkitAnimation","undefined","style","animateHelper","window","AnimateHelper","animateThenDo","element","animationClass","callback","addEventListener","finish","e","target","classList","remove","removeEventListener","add","doThenAnimate"],"mappings":"AAQA,CAAA,WAkB4B,SAApBA,IACA,IAAIC,EACJC,EAAKC,SAASC,cAAc,aAAa,EAC3CC,EAAa,CAChBC,UAAmB,eACnBC,WAAmB,gBACnBC,aAAmB,eACnBC,gBAAmB,oBACpB,EAEA,IAAKR,KAAKI,EACT,GAAoBK,KAAAA,IAAhBR,EAAGS,MAAMV,GACZ,OAAOI,EAAWJ,GAIpB,MAAO,cACR,CAhCA,IAAIW,EAAgB,GACpBC,OAAOC,cAAgBF,EA0CvBA,EAAcG,cAAgB,SAAUC,EAASC,EAAgBC,GAE1DF,EAAQG,iBAAkBnB,EAAkB,EAAG,SAASoB,EAAQC,GAE5DA,EAAEC,OAAOC,UAAUC,OAAQP,CAAe,EACnDI,EAAEC,OAAOG,oBAAqBzB,EAAkB,EAAGoB,CAAO,EAGxB,YAApB,OAAOF,GAA0BA,EAAUG,EAAEC,OAAQL,CAAe,CAC7E,CAAE,EAGFD,EAAQO,UAAUG,IAAKT,CAAe,CAC1C,EAWAL,EAAce,cAAgB,SAAUX,EAASC,EAAgBC,GAE1C,YAApB,OAAOA,GAA0BA,EAAUF,EAASC,CAAe,EAGlED,EAAQG,iBAAkBnB,EAAkB,EAAG,SAASoB,EAAQC,GAE5DA,EAAEC,OAAOC,UAAUC,OAAQP,CAAe,EAC1CI,EAAEC,OAAOG,oBAAqBzB,EAAkB,EAAGoB,CAAO,CAC9D,CAAE,EAGFJ,EAAQO,UAAUG,IAAKT,CAAe,CAC7C,CAEA,EAAE"}